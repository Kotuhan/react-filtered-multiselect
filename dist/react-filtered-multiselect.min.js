/**
 * react-filtered-multiselect 0.1.0 - https://github.com/insin/react-filtered-multiselect
 * MIT Licensed
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.FilteredMultiSelect=e()}}(function(){return function e(t,s,i){function n(o,r){if(!s[o]){if(!t[o]){var p="function"==typeof require&&require;if(!r&&p)return p(o,!0);if(l)return l(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var u=s[o]={exports:{}};t[o][0].call(u.exports,function(e){var s=t[o][1][e];return n(s?s:e)},u,u.exports,e,t,s,i)}return s[o].exports}for(var l="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(e,t){"use strict";function s(e,t){for(var s={},i=0,n=e.length;n>i;i++)t?s[e[i][t]]=!0:s[e[i]]=!0;return s}function i(e,t,i){for(var n=[],l=0,o=s(i),r=0,p=e.length,a=i.length;p>r&&a>l;r++)o[e[r][t]]&&(n.push(e[r]),l++);return n}var n="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,l=n.createClass({displayName:"FilteredMultiSelect",propTypes:{buttonText:n.PropTypes.string,className:n.PropTypes.string,classNames:n.PropTypes.object,defaultFilter:n.PropTypes.string,disabled:n.PropTypes.bool,onChange:n.PropTypes.func.isRequired,options:n.PropTypes.array.isRequired,placeholder:n.PropTypes.string,selectedOptions:n.PropTypes.array,size:n.PropTypes.number,textProp:n.PropTypes.string,valueProp:n.PropTypes.string},getDefaultProps:function(){return{buttonText:"Select",className:"FilteredMultiSelect",classNames:{button:"FilteredMultiSelect__button",filter:"FilteredMultiSelect__filter",select:"FilteredMultiSelect__select"},defaultFilter:"",disabled:!1,placeholder:"type to filter",size:6,selectedOptions:[],textProp:"text",valueProp:"value"}},getInitialState:function(){return{filter:this.props.defaultFilter,filteredOptions:this.filterOptions(this.props.defaultFilter,this.props.selectedOptions),selectedOptions:this.props.selectedOptions.slice(),selectedValues:[]}},componentWillReceiveProps:function(e){e.selectedOptions.length!=this.state.selectedOptions.length&&this.setState({filteredOptions:this.filterOptions(this.state.filter,e.selectedOptions),selectedOptions:e.selectedOptions.slice()})},filterOptions:function(e,t){"undefined"==typeof e&&(e=this.state.filter),"undefined"==typeof t&&(t=this.state.selectedOptions),e=e.toUpperCase();for(var i=this.props.options,n=this.props.textProp,l=this.props.valueProp,o=s(t,l),r=[],p=0,a=i.length;a>p;p++)o[i[p][l]]||e&&-1==i[p][n].toUpperCase().indexOf(e)||r.push(i[p]);return r},onFilterChange:function(e){var t=e.target.value;this.setState({filter:t,filteredOptions:this.filterOptions(t)})},onFilterKeyPress:function(e){if("Enter"==e.key&&(e.preventDefault(),1==this.state.filteredOptions.length)){var t=this.state.filteredOptions[0],s=this.state.selectedOptions.slice().concat([t]);this.setState({filter:"",filteredOptions:this.filterOptions("",s),selectedOptions:s},this.props.onChange.bind(null,s))}},onSelectChange:function(e){for(var t=e.target,s=[],i=0,n=t.options.length;n>i;i++)t.options[i].selected&&s.push(t.options[i].value);this.setState({selectedValues:s})},selectOptions:function(){var e=this.state.selectedOptions.concat(i(this.state.filteredOptions,this.props.valueProp,this.state.selectedValues));this.setState({filteredOptions:this.filterOptions(this.state.filter,e),selectedOptions:e,selectedValues:[]},this.props.onChange.bind(null,e))},render:function(){var e=this.props,t=this.state;return n.createElement("div",{className:e.className},n.createElement("input",{type:"text",className:e.classNames.filter,placeholder:e.placeholder,value:t.filter,onChange:this.onFilterChange,onKeyPress:this.onFilterKeyPress,disabled:e.disabled}),n.createElement("select",{multiple:!0,className:e.classNames.select,size:e.size,value:t.selectedValues,onChange:this.onSelectChange,disabled:e.disabled},this.state.filteredOptions.map(function(t){return n.createElement("option",{key:t[e.valueProp],value:t[e.valueProp]},t[e.textProp])})),n.createElement("button",{type:"button",className:e.classNames.button,disabled:0===t.selectedValues.length,onClick:this.selectOptions},this.props.buttonText))}});t.exports=l},{}]},{},[1])(1)});